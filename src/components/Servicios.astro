<div class="pb-32">
  <!-- Título Principal de Servicios -->
  <section
    id="servicios"
    class="relative w-full py-16 flex flex-col items-center justify-center overflow-hidden animate-agents"
    data-bg="radial-gradient(circle at 50% 100%, #a0f06f 0%, #82e256 25%, #4d9e2a 45%, #1a4d2e 70%, #0a0a0a 100%)"
  >
    <div class="container mx-auto px-4 text-center max-w-5xl">
      <!-- Título con gradiente -->
      <h2
        class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black leading-tight"
      >
        <span class="text-white">Nuestros </span>
        <span class="text-[#82e256]">Servicios</span>
      </h2>

      <!-- Descripción -->
      <p
        class="text-lg md:text-xl lg:text-2xl text-gray-300 font-light max-w-3xl mx-auto leading-relaxed"
      >
        Ven y conoce cada una de las Soluciones de IA y desarrollo de software
        diseñadas para transformar tu negocio
      </p>
    </div>
  </section>

  <!-- Sección 1: Agentes IA -->
  <section
    id="personaje1"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-agents"
    data-bg="radial-gradient(circle at 50% 100%, #a0f06f 0%, #82e256 25%, #4d9e2a 45%, #1a4d2e 70%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[12vw] md:text-[14vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      AGENTES + IA
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Descripción con Tooltip (Izquierda) -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-start relative z-20 md:-mr-[300px] order-2 md:order-1"
      >
        <!-- H3 con Mini Tooltip y Video Shorts -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-start mt-4 md:mt-6"
        >
          <div class="flex items-center gap-4">
            <a block">
              <h3
                class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-left px-6 py-4 cursor-pointer relative inline-block leading-tight"
              >
                Agentes de inteligencia artificial y MCP's

                <!-- Mini Tooltip (aparece arriba al hover) -->
                <div
                  class="tooltip-content absolute left-0 md:left-auto md:right-0 bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
                >
                  <div class="bg-black/90 p-5 border-2 border-[#82e256]/50">
                    <!-- Contenido del Tooltip -->
                    <p
                      class="text-sm md:text-base text-white font-light leading-relaxed"
                    >
                      Transforma tu operación con empleados digitales que
                      trabajan 24/7. Atienden clientes, cualifican leads y
                      ejecutan flujos de trabajo complejos mediante <strong
                        class="text-[#82e256] font-semibold"
                        >Model Context Protocol (MCP)</strong
                      >, Langraph y N8N.
                    </p>
                  </div>

                  <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                  <div
                    class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                  >
                  </div>
                </div>
              </h3>
            </a>

            <!-- Botón de Video Shorts -->
            <button
              class="service-video-btn relative flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
              data-service="service1"
              title="Ver videos explicativos"
            >
              <img
                src="/img/playvideo.svg"
                alt="Play video"
                class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
              />
              <span
                class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
                >VIDEO</span
              >
            </button>
          </div>
        </div>
      </div>

      <!-- Imagen (Derecha) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-start order-1 md:order-2"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje1/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Agente IA"
          />
          <img
            src="/img/personaje1/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Agente IA"
          />
          <img
            src="/img/personaje1/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Agente IA"
          />
          <img
            src="/img/personaje1/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Agente IA"
          />
          <img
            src="/img/personaje1/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Agente IA"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Sección 2: Apps IA (Personaje 3) -->
  <section
    id="personaje3"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-apps"
    data-bg="radial-gradient(circle at 50% 100%, #60a5fa 0%, #3b82f6 25%, #2563eb 45%, #1e40af 70%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[11vw] md:text-[12vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      APPS WEBS
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Imagen (Izquierda) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-end order-1 md:order-1"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje3/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Apps IA"
          />
          <img
            src="/img/personaje3/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps IA"
          />
          <img
            src="/img/personaje3/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps IA"
          />
          <img
            src="/img/personaje3/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps IA"
          />
          <img
            src="/img/personaje3/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps IA"
          />
        </div>
      </div>

      <!-- Descripción con Tooltip (Derecha) -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-end relative z-20 md:-ml-[300px] order-2 md:order-2"
      >
        <!-- H3 con Mini Tooltip -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-end mt-4 md:mt-6"
        >
          <a ass="block">
            <h3
              class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-right px-6 py-4 cursor-pointer relative inline-block leading-tight"
            >
              Apps con integraciones hechas a la medida + IA

              <!-- Mini Tooltip (aparece arriba al hover) -->
              <div
                class="tooltip-content absolute left-0 md:left-0 md:right-auto bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
              >
                <div
                  class="backdrop-blur-xl bg-black/90 p-5 rounded-2xl border-2 border-[#82e256]/50 shadow-2xl"
                >
                  <!-- Contenido del Tooltip -->
                  <p
                    class="text-sm md:text-base text-white font-light leading-relaxed"
                  >
                    Aplicaciones inteligentes que entienden, predicen y
                    personalizan. Integra <strong
                      class="text-[#82e256] font-semibold"
                      >búsqueda semántica, LLMs, machine learning</strong
                    >, generación de contenido, análisis de datos y experiencias
                    conversacionales (STT - TTS).
                  </p>
                </div>

                <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                <div
                  class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                >
                </div>
              </div>
            </h3>
          </a>
        </div>
      </div>
    </div>

    <!-- Botón de Video Shorts (Centrado en pantalla) -->
    <button
      class="service-video-btn absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
      data-service="service3"
      title="Ver videos explicativos"
    >
      <img
        src="/img/playvideo.svg"
        alt="Play video"
        class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
      />
      <span
        class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
        >VIDEO</span
      >
    </button>
  </section>

  <!-- Sección 3: Modern Web (Personaje 4) -->
  <section
    id="personaje4"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-web"
    data-bg="radial-gradient(circle at 50% 100%, #fbbf24 0%, #f59e0b 20%, #ef4444 40%, #dc2626 65%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[12vw] md:text-[14vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none leading-none opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      WEBSITES <br /> MODERNOS
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Descripción con Tooltip (Izquierda) -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-start relative z-20 md:-mr-[300px] order-2 md:order-1"
      >
        <!-- H3 con Mini Tooltip y Video Shorts -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-start mt-4 md:mt-6"
        >
          <div class="flex items-center gap-4">
            <a ss="block">
              <h3
                class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-left px-6 py-4 cursor-pointer relative inline-block leading-tight"
              >
                Diseño y Desarrollo Web Moderno & Rápido + IA

                <!-- Mini Tooltip (aparece arriba al hover) -->
                <div
                  class="tooltip-content absolute left-0 md:left-auto md:right-0 bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
                >
                  <div
                    class="backdrop-blur-xl bg-black/90 p-5 rounded-2xl border-2 border-[#82e256]/50 shadow-2xl"
                  >
                    <!-- Contenido del Tooltip -->
                    <p
                      class="text-sm md:text-base text-white font-light leading-relaxed"
                    >
                      Sitios web rápidos, escalables y preparados para el
                      futuro. Optimizados para <strong
                        class="text-[#82e256] font-semibold"
                        >conversión, SEO y experiencia de usuario</strong
                      > excepcional con diseño premium y animaciones de alto impacto.
                    </p>
                  </div>

                  <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                  <div
                    class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                  >
                  </div>
                </div>
              </h3>
            </a>

            <!-- Botón de Video Shorts -->
            <button
              class="service-video-btn relative flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
              data-service="service4"
              title="Ver videos explicativos"
            >
              <img
                src="/img/playvideo.svg"
                alt="Play video"
                class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
              />
              <span
                class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
                >VIDEO</span
              >
            </button>
          </div>
        </div>
      </div>

      <!-- Imagen (Derecha) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-start order-1 md:order-2"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje4/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Modern Web"
          />
          <img
            src="/img/personaje4/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Modern Web"
          />
          <img
            src="/img/personaje4/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Modern Web"
          />
          <img
            src="/img/personaje4/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Modern Web"
          />
          <img
            src="/img/personaje4/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Modern Web"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Sección 4: Apps Móviles (Personaje 5) -->
  <section
    id="personaje5"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-mobile"
    data-bg="radial-gradient(circle at 50% 100%, #a78bfa 0%, #8b5cf6 25%, #7c3aed 45%, #5b21b6 70%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[12vw] md:text-[14vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none leading-none opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      APPS <br /> MOVILES
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Imagen (Izquierda) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-end order-1 md:order-1"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje5/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Apps Móviles"
          />
          <img
            src="/img/personaje5/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps Móviles"
          />
          <img
            src="/img/personaje5/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps Móviles"
          />
          <img
            src="/img/personaje5/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps Móviles"
          />
          <img
            src="/img/personaje5/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps Móviles"
          />
          <img
            src="/img/personaje5/06.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Apps Móviles"
          />
        </div>
      </div>

      <!-- Descripción con Tooltip (Derecha) -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-end relative z-20 md:-ml-[300px] order-2 md:order-2"
      >
        <!-- H3 con Mini Tooltip -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-end mt-4 md:mt-6"
        >
          <a>
            <h3
              class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-right px-6 py-4 cursor-pointer relative inline-block leading-tight"
            >
              Aplicaciones Nativas & Cross-Platform

              <!-- Mini Tooltip (aparece arriba al hover) -->
              <div
                class="tooltip-content absolute left-0 md:left-0 md:right-auto bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
              >
                <div
                  class="backdrop-blur-xl bg-black/90 p-5 rounded-2xl border-2 border-[#82e256]/50 shadow-2xl"
                >
                  <!-- Contenido del Tooltip -->
                  <p
                    class="text-sm md:text-base text-white font-light leading-relaxed"
                  >
                    Apps nativas e híbridas de clase mundial para <strong
                      class="text-[#82e256] font-semibold">iOS y Android</strong
                    >. Desde MVPs hasta aplicaciones empresariales complejas con
                    Swift, Kotlin y cross-platform.
                  </p>
                </div>

                <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                <div
                  class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                >
                </div>
              </div>
            </h3>
          </a>
        </div>
      </div>
    </div>

    <!-- Botón de Video Shorts (Centrado en pantalla) -->
    <button
      class="service-video-btn absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
      data-service="service5"
      title="Ver videos explicativos"
    >
      <img
        src="/img/playvideo.svg"
        alt="Play video"
        class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
      />
      <span
        class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
        >VIDEO</span
      >
    </button>
  </section>

  <!-- Sección 5: Arquitectura (Personaje 6) -->
  <section
    id="personaje6"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-arch"
    data-bg="radial-gradient(circle at 50% 100%, #22d3ee 0%, #06b6d4 25%, #0891b2 45%, #0e7490 70%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[13vw] md:text-[12vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none leading-none text-center opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      ARQUITECTURA <br /> DE SOFTWARE
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Imagen (Izquierda) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-end order-1 md:order-1"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje6/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Arquitectura"
          />
          <img
            src="/img/personaje6/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Arquitectura"
          />
          <img
            src="/img/personaje6/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Arquitectura"
          />
          <img
            src="/img/personaje6/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Arquitectura"
          />
          <img
            src="/img/personaje6/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Arquitectura"
          />
        </div>
      </div>

      <!-- Descripción con Tooltip -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-start relative z-20 md:-ml-[300px]"
      >
        <!-- H3 con Mini Tooltip y Video Shorts -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-start mt-4 md:mt-6"
        >
          <div class="flex items-center gap-4">
            <a>
              <h3
                class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-left px-6 py-4 cursor-pointer relative inline-block leading-tight"
              >
                Oficina de Arquitectura de Software + IA

                <!-- Mini Tooltip (aparece arriba al hover) -->
                <div
                  class="tooltip-content absolute left-0 md:left-auto md:right-0 bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
                >
                  <div
                    class="backdrop-blur-xl bg-black/90 p-5 rounded-2xl border-2 border-[#82e256]/50 shadow-2xl"
                  >
                    <!-- Contenido del Tooltip -->
                    <p
                      class="text-sm md:text-base text-white font-light leading-relaxed"
                    >
                      Arquitectura empresarial de última generación combinando <strong
                        class="text-[#82e256] font-semibold"
                        >TOGAF 2026 con metodologías ágiles Scrum</strong
                      >. Transformación digital iterativa, microservicios,
                      serverless y roadmaps adaptativos.
                    </p>
                  </div>

                  <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                  <div
                    class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                  >
                  </div>
                </div>
              </h3>
            </a>

            <!-- Botón de Video Shorts -->
            <button
              class="service-video-btn relative flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
              data-service="service6"
              title="Ver videos explicativos"
            >
              <img
                src="/img/playvideo.svg"
                alt="Play video"
                class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
              />
              <span
                class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
                >VIDEO</span
              >
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección 6: Computer Vision (Personaje 7) -->
  <section
    id="personaje7"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-vision pb-32"
    data-bg="radial-gradient(circle at 50% 100%, #f9a8d4 0%, #ec4899 25%, #db2777 45%, #be185d 70%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[12vw] md:text-[14vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none text-center leading-none opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      VISIÓN <br /> ARTIFICIAL
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Imagen (Izquierda) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-end order-1 md:order-1"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje7/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Computer Vision"
          />
          <img
            src="/img/personaje7/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Computer Vision"
          />
          <img
            src="/img/personaje7/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Computer Vision"
          />
          <img
            src="/img/personaje7/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Computer Vision"
          />
          <img
            src="/img/personaje7/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Computer Vision"
          />
        </div>
      </div>

      <!-- Descripción con Tooltip (Derecha) -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-end relative z-20 md:-ml-[300px] order-2 md:order-2"
      >
        <!-- H3 con Mini Tooltip -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-end mt-4 md:mt-6"
        >
          <a ass="block">
            <h3
              class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-right px-6 py-4 cursor-pointer relative inline-block leading-tight"
            >
              Visión por Computadora hecha a la medida. + IA

              <!-- Mini Tooltip (aparece arriba al hover) -->
              <div
                class="tooltip-content absolute left-0 md:left-0 md:right-auto bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
              >
                <div
                  class="backdrop-blur-xl bg-black/90 p-5 rounded-2xl border-2 border-[#82e256]/50 shadow-2xl"
                >
                  <!-- Contenido del Tooltip -->
                  <p
                    class="text-sm md:text-base text-white font-light leading-relaxed"
                  >
                    Sistemas inteligentes que ven, analizan y actúan. <strong
                      class="text-[#82e256] font-semibold"
                      >Detección de objetos, reconocimiento facial, OCR</strong
                    > y análisis de video en tiempo real con Deep Learning.
                  </p>
                </div>

                <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                <div
                  class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                >
                </div>
              </div>
            </h3>
          </a>
        </div>
      </div>
    </div>

    <!-- Botón de Video Shorts (Centrado en pantalla) -->
    <button
      class="service-video-btn absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
      data-service="service7"
      title="Ver videos explicativos"
    >
      <img
        src="/img/playvideo.svg"
        alt="Play video"
        class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
      />
      <span
        class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
        >VIDEO</span
      >
    </button>
  </section>

  <!-- Sección 6: Computer Vision (Personaje 7) -->
  <section
    id="personaje7"
    class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden animate-vision pb-32"
    data-bg="radial-gradient(circle at 50% 100%, #f9a8d4 0%, #ec4899 20%, #db2777 40%, #f97316 60%, #be185d 80%, #0a0a0a 100%)"
  >
    <!-- Título Gigante de Fondo -->
    <h2
      class="scroll-reveal-title absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[11vw] md:text-[13vw] font-black text-white/25 whitespace-nowrap z-0 select-none pointer-events-none text-center leading-none opacity-0 translate-y-20 transition-all duration-1000 ease-out"
    >
      IA & MACHINE <br /> LEARNING
    </h2>

    <div
      class="flex flex-col md:flex-row items-center justify-center w-full max-w-7xl z-10"
    >
      <!-- Descripción con Tooltip -->
      <div
        class="w-full md:w-1/2 flex flex-col items-center md:items-start relative z-20 md:-mr-[300px] order-2 md:order-1"
      >
        <!-- H3 con Mini Tooltip y Video Shorts -->
        <div
          class="tooltip-wrapper relative group w-full flex flex-col items-center md:items-start mt-4 md:mt-6"
        >
          <div class="flex items-center gap-4">
            <a " class="block">
              <h3
                class="text-4xl md:text-5xl lg:text-6xl font-bold text-white text-center md:text-left px-6 py-4 cursor-pointer relative inline-block leading-tight"
              >
                Aprendizaje Automático y por refuerzo + Modelos de IA

                <!-- Mini Tooltip (aparece arriba al hover) -->
                <div
                  class="tooltip-content absolute left-0 md:left-auto md:right-0 bottom-full mb-4 w-[90vw] md:w-[450px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:-translate-y-2 z-50 pointer-events-none"
                >
                  <div
                    class="backdrop-blur-xl bg-black/90 p-5 rounded-2xl border-2 border-[#82e256]/50 shadow-2xl"
                  >
                    <!-- Contenido del Tooltip -->
                    <p
                      class="text-sm md:text-base text-white font-light leading-relaxed"
                    >
                      <strong class="text-[#82e256] font-semibold"
                        >MLOps, modelos predictivos, NLP</strong
                      > y agentes autónomos. Llevamos la IA del laboratorio a producción
                      con ROI medible y arquitecturas listas para escalar.
                    </p>
                  </div>

                  <!-- Flecha indicadora del tooltip (apunta hacia abajo) -->
                  <div
                    class="absolute -bottom-2 left-8 md:left-auto md:right-8 w-4 h-4 bg-black/90 border-r border-b border-[#82e256]/50 transform rotate-45"
                  >
                  </div>
                </div>
              </h3>
            </a>

            <!-- Botón de Video Shorts -->
            <button
              class="service-video-btn relative flex-shrink-0 w-12 h-12 flex items-center justify-center transition-all duration-300 hover:scale-110 z-30 group/play"
              data-service="service7"
              title="Ver videos explicativos"
            >
              <img
                src="/img/playvideo.svg"
                alt="Play video"
                class="w-full h-full transition-transform duration-300 group-hover/play:rotate-6 group-hover/play:scale-105"
              />
              <span
                class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-white opacity-0 group-hover/play:opacity-100 transition-opacity duration-300 whitespace-nowrap"
                >VIDEO</span
              >
            </button>
          </div>
        </div>
      </div>

      <!-- Imagen (Derecha) -->
      <div
        class="w-full md:w-1/2 flex justify-center md:justify-start order-1 md:order-2"
      >
        <div
          class="carousel-container relative w-[500px] h-[500px] md:w-[700px] md:h-[700px] lg:w-[850px] lg:h-[850px] hover:scale-105 transition-transform duration-500 pointer-events-none"
        >
          <img
            src="/img/personaje8/01.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-100"
            alt="Machine Learning & IA"
          />
          <img
            src="/img/personaje8/02.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Machine Learning & IA"
          />
          <img
            src="/img/personaje8/03.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Machine Learning & IA"
          />
          <img
            src="/img/personaje8/04.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Machine Learning & IA"
          />
          <img
            src="/img/personaje8/05.png"
            class="carousel-img absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 opacity-0"
            alt="Machine Learning & IA"
          />
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Modal Video Service 1 - Agentes IA -->
<div
  id="videos-service1"
  class="service-videos-container hidden fixed inset-0 flex items-center justify-center"
  style="z-index: 999999;"
>
  <div
    class="absolute inset-0 bg-black/90 backdrop-blur-sm"
    data-backdrop="service1"
  >
  </div>
  <div class="relative z-10 w-full h-full flex items-center justify-center p-4">
    <div
      class="relative flex flex-col items-center gap-4 h-full justify-center"
    >
      <div class="flex items-center justify-between w-full max-w-md">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h4 class="text-white font-bold text-sm">Agentes IA - Videos</h4>
        </div>
        <button
          class="close-service-video text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full"
          data-service="service1"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-2xl">close</span>
        </button>
      </div>
      <div class="video-item-service group relative" style="height: 95vh;">
        <div
          class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-[#82e256] transition-all duration-300 h-full shadow-2xl"
        >
          <iframe
            class="service-video-iframe transition-all duration-500"
            data-service="service1"
            style="width: calc(95vh * 9 / 16); height: 95vh;"
            src=""
            title="Agentes IA - Video"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        </div>
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Videos explicativos sobre Agentes IA</span>
      </div>
    </div>
  </div>
</div>

<!-- Modal Video Service 3 - Apps IA -->
<div
  id="videos-service3"
  class="service-videos-container hidden fixed inset-0 flex items-center justify-center"
  style="z-index: 999999;"
>
  <div
    class="absolute inset-0 bg-black/90 backdrop-blur-sm"
    data-backdrop="service3"
  >
  </div>
  <div class="relative z-10 w-full h-full flex items-center justify-center p-4">
    <div
      class="relative flex flex-col items-center gap-4 h-full justify-center"
    >
      <div class="flex items-center justify-between w-full max-w-md">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h4 class="text-white font-bold text-sm">Apps IA - Videos</h4>
        </div>
        <button
          class="close-service-video text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full"
          data-service="service3"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-2xl">close</span>
        </button>
      </div>
      <div class="video-item-service group relative" style="height: 95vh;">
        <div
          class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-[#82e256] transition-all duration-300 h-full shadow-2xl"
        >
          <iframe
            class="service-video-iframe transition-all duration-500"
            data-service="service3"
            style="width: calc(95vh * 9 / 16); height: 95vh;"
            src=""
            title="Apps IA - Video"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        </div>
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Videos explicativos sobre Apps IA</span>
      </div>
    </div>
  </div>
</div>

<!-- Modal Video Service 4 - Web Moderna -->
<div
  id="videos-service4"
  class="service-videos-container hidden fixed inset-0 flex items-center justify-center"
  style="z-index: 999999;"
>
  <div
    class="absolute inset-0 bg-black/90 backdrop-blur-sm"
    data-backdrop="service4"
  >
  </div>
  <div class="relative z-10 w-full h-full flex items-center justify-center p-4">
    <div
      class="relative flex flex-col items-center gap-4 h-full justify-center"
    >
      <div class="flex items-center justify-between w-full max-w-md">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h4 class="text-white font-bold text-sm">Web Moderna - Videos</h4>
        </div>
        <button
          class="close-service-video text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full"
          data-service="service4"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-2xl">close</span>
        </button>
      </div>
      <div class="video-item-service group relative" style="height: 95vh;">
        <div
          class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-[#82e256] transition-all duration-300 h-full shadow-2xl"
        >
          <iframe
            class="service-video-iframe transition-all duration-500"
            data-service="service4"
            style="width: calc(95vh * 9 / 16); height: 95vh;"
            src=""
            title="Web Moderna - Video"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        </div>
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Videos explicativos sobre Web Moderna</span>
      </div>
    </div>
  </div>
</div>

<!-- Modal Video Service 5 - Apps Móviles -->
<div
  id="videos-service5"
  class="service-videos-container hidden fixed inset-0 flex items-center justify-center"
  style="z-index: 999999;"
>
  <div
    class="absolute inset-0 bg-black/90 backdrop-blur-sm"
    data-backdrop="service5"
  >
  </div>
  <div class="relative z-10 w-full h-full flex items-center justify-center p-4">
    <div
      class="relative flex flex-col items-center gap-4 h-full justify-center"
    >
      <div class="flex items-center justify-between w-full max-w-md">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h4 class="text-white font-bold text-sm">Apps Móviles - Videos</h4>
        </div>
        <button
          class="close-service-video text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full"
          data-service="service5"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-2xl">close</span>
        </button>
      </div>
      <div class="video-item-service group relative" style="height: 95vh;">
        <div
          class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-[#82e256] transition-all duration-300 h-full shadow-2xl"
        >
          <iframe
            class="service-video-iframe transition-all duration-500"
            data-service="service5"
            style="width: calc(95vh * 9 / 16); height: 95vh;"
            src=""
            title="Apps Móviles - Video"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        </div>
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Videos explicativos sobre Apps Móviles</span>
      </div>
    </div>
  </div>
</div>

<!-- Modal Video Service 6 - Arquitectura -->
<div
  id="videos-service6"
  class="service-videos-container hidden fixed inset-0 flex items-center justify-center"
  style="z-index: 999999;"
>
  <div
    class="absolute inset-0 bg-black/90 backdrop-blur-sm"
    data-backdrop="service6"
  >
  </div>
  <div class="relative z-10 w-full h-full flex items-center justify-center p-4">
    <div
      class="relative flex flex-col items-center gap-4 h-full justify-center"
    >
      <div class="flex items-center justify-between w-full max-w-md">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h4 class="text-white font-bold text-sm">Arquitectura - Videos</h4>
        </div>
        <button
          class="close-service-video text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full"
          data-service="service6"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-2xl">close</span>
        </button>
      </div>
      <div class="video-item-service group relative" style="height: 95vh;">
        <div
          class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-[#82e256] transition-all duration-300 h-full shadow-2xl"
        >
          <iframe
            class="service-video-iframe transition-all duration-500"
            data-service="service6"
            style="width: calc(95vh * 9 / 16); height: 95vh;"
            src=""
            title="Arquitectura - Video"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        </div>
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Videos explicativos sobre Arquitectura</span>
      </div>
    </div>
  </div>
</div>

<!-- Modal Video Service 7 - Visión Artificial -->
<div
  id="videos-service7"
  class="service-videos-container hidden fixed inset-0 flex items-center justify-center"
  style="z-index: 999999;"
>
  <div
    class="absolute inset-0 bg-black/90 backdrop-blur-sm"
    data-backdrop="service7"
  >
  </div>
  <div class="relative z-10 w-full h-full flex items-center justify-center p-4">
    <div
      class="relative flex flex-col items-center gap-4 h-full justify-center"
    >
      <div class="flex items-center justify-between w-full max-w-md">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h4 class="text-white font-bold text-sm">
            Visión Artificial - Videos
          </h4>
        </div>
        <button
          class="close-service-video text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full"
          data-service="service7"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-2xl">close</span>
        </button>
      </div>
      <div class="video-item-service group relative" style="height: 95vh;">
        <div
          class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-[#82e256] transition-all duration-300 h-full shadow-2xl"
        >
          <iframe
            class="service-video-iframe transition-all duration-500"
            data-service="service7"
            style="width: calc(95vh * 9 / 16); height: 95vh;"
            src=""
            title="Visión Artificial - Video"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        </div>
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Videos explicativos sobre Visión Artificial</span>
      </div>
    </div>
  </div>
</div>

<script>
  // ═══════════════════════════════════════════════════════════════════
  // ███████╗███████╗██████╗ ██╗   ██╗██╗ ██████╗██╗ ██████╗ ███████╗
  // ██╔════╝██╔════╝██╔══██╗██║   ██║██║██╔════╝██║██╔═══██╗██╔════╝
  // ███████╗█████╗  ██████╔╝██║   ██║██║██║     ██║██║   ██║███████╗
  // ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██║██║     ██║██║   ██║╚════██║
  // ███████║███████╗██║  ██║ ╚████╔╝ ██║╚██████╗██║╚██████╔╝███████║
  // ╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚═╝ ╚═════╝╚═╝ ╚═════╝ ╚══════╝
  // ═══════════════════════════════════════════════════════════════════
  // VIDEOS MODALES DE SERVICIOS (service1, service3, service4, service5, service6, service7)
  // Estos videos se abren en modales fullscreen al hacer clic en los botones play de cada servicio
  // ═══════════════════════════════════════════════════════════════════

  // ===== Configuración de Videos por Servicio =====
  // Aquí puedes cambiar las URLs de los videos de YouTube Shorts para cada servicio
  const serviceVideos = {
    service1: "9GFxx6wS9bk", // Agentes IA
    service3: "9GFxx6wS9bk", // Apps IA
    service4: "9GFxx6wS9bk", // Web Moderna
    service5: "9GFxx6wS9bk", // Apps Móviles
    service6: "9GFxx6wS9bk", // Arquitectura
    service7: "9GFxx6wS9bk", // Visión Artificial
  };

  // Función para cerrar modal y detener video
  const closeVideoModal = (serviceId) => {
    const container = document.getElementById(`videos-${serviceId}`);
    const iframe = document.querySelector(
      `.service-video-iframe[data-service="${serviceId}"]`,
    );

    if (container) {
      container.classList.add("hidden");
      document.body.style.overflow = "auto";
    }

    // Detener el video completamente reseteando el src
    if (iframe && iframe.src) {
      iframe.src = "";
    }
  };

  // Función para abrir modal
  const openVideoModal = (serviceId) => {
    const container = document.getElementById(`videos-${serviceId}`);
    const iframe = document.querySelector(
      `.service-video-iframe[data-service="${serviceId}"]`,
    );

    if (container) {
      // Cerrar todos los otros contenedores de videos
      document.querySelectorAll(".service-videos-container").forEach((c) => {
        if (c.id !== `videos-${serviceId}`) {
          c.classList.add("hidden");
        }
      });

      // Cargar el video URL si el iframe está vacío
      if (iframe && serviceVideos[serviceId]) {
        const videoId = serviceVideos[serviceId];
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=0&mute=1&loop=1&playlist=${videoId}&controls=1&modestbranding=1&rel=0`;
      }

      // Mostrar modal
      container.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
  };

  // Inicializar después de que el DOM esté listo
  document.addEventListener("DOMContentLoaded", () => {
    // Service Videos Manager - Abrir modal
    document.querySelectorAll(".service-video-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const serviceId = btn.getAttribute("data-service");
        openVideoModal(serviceId);
      });
    });

    // Cerrar videos de servicio con botón X
    document.querySelectorAll(".close-service-video").forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const serviceId = btn.getAttribute("data-service");
        closeVideoModal(serviceId);
      });
    });

    // Cerrar videos al hacer clic en el backdrop
    document.querySelectorAll("[data-backdrop]").forEach((backdrop) => {
      backdrop.addEventListener("click", () => {
        const serviceId = backdrop.getAttribute("data-backdrop");
        closeVideoModal(serviceId);
      });
    });

    // Cerrar modal con tecla ESC
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        document
          .querySelectorAll(".service-videos-container")
          .forEach((container) => {
            if (!container.classList.contains("hidden")) {
              const serviceId = container.id.replace("videos-", "");
              closeVideoModal(serviceId);
            }
          });
      }
    });

    // ═══════════════════════════════════════════════════════════════════
    // COLOR CHANGE WITH SCROLL - IntersectionObserver
    // ═══════════════════════════════════════════════════════════════════
    const serviceSections = document.querySelectorAll(
      "#personaje1, #personaje3, #personaje4, #personaje5, #personaje6, #personaje7",
    );

    const observerOptions = {
      // rootMargin hace que el cambio sea más dramático cuando la sección está centrada
      rootMargin: "-40% 0% -40% 0%",
      threshold: 0.1,
    };

    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const bgGradient = entry.target.getAttribute("data-bg");

          if (bgGradient) {
            // Aplicar el gradiente al body de forma suave
            document.body.style.setProperty(
              "--bg-gradient-current",
              bgGradient,
            );
          }
        }
      });
    }, observerOptions);

    // Observar todas las secciones de servicios
    serviceSections.forEach((section) => sectionObserver.observe(section));

    // ═══════════════════════════════════════════════════════════════════
    // SCROLL REVEAL ANIMATION FOR BACKGROUND TITLES
    // ═══════════════════════════════════════════════════════════════════
    const revealTitles = document.querySelectorAll(".scroll-reveal-title");

    const revealOptions = {
      rootMargin: "0px 0px -10% 0px",
      threshold: 0.3,
    };

    const titleObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          // Remove hidden state classes to trigger reveal
          entry.target.classList.remove("opacity-0", "translate-y-20");
          entry.target.classList.add("opacity-100", "translate-y-0");
        }
      });
    }, revealOptions);

    // Observe all title elements
    revealTitles.forEach((title) => titleObserver.observe(title));
  });
</script>

<style is:global>
  /* ===== COLOR CHANGE WITH STICKY SCROLL ===== */
  :root {
    --bg-gradient-current: radial-gradient(
      circle at 50% 100%,
      #1a1a1a 0%,
      #0a0a0a 100%
    );
  }

  /* Transición rápida y dramática para el cambio de fondo del body */
  body {
    background: var(--bg-gradient-current) !important;
    transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  /* ===== SCROLL-DRIVEN TEXT REVEAL - AQUICREAMOS ===== */

  /* Espaciadores */
  .spacer-top-aquicreamos {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .spacer-bottom-aquicreamos {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* El contenedor que define la duración del scroll */
  .scroll-wrapper-aquicreamos {
    height: 400vh;
  }

  .sticky-container-aquicreamos {
    position: sticky;
    top: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10vw;
    overflow: hidden;
  }

  .text-reveal-aquicreamos {
    font-size: clamp(1.5rem, 4vw, 3rem);
    font-weight: 600;
    line-height: 1.4;
    text-align: left;
    max-width: 900px;
    color: #ffffff;
    /* El blur final se aplica a todo el bloque */
    transition: filter 0.5s ease;
  }

  /* Estilo de cada palabra antes de ser revelada */
  .word-aquicreamos {
    display: inline-block;
    opacity: 0.1;
    /* Casi invisible */
    filter: blur(12px);
    /* Muy desenfocada */
    transform: translateY(10px);
    transition: all 0.4s ease-out;
    margin-right: 0.25em;
  }

  /* Clase que activaremos con JS */
  .word-aquicreamos.active {
    opacity: 1;
    filter: blur(0px);
    transform: translateY(0px);
  }

  /* ===== NUEVA DISTRIBUCIÓN: TEXTOS GRANDES + IMÁGENES SIN DESCRIPCIÓN ===== */

  /* Secciones normales sin sticky */
  #personaje1,
  #personaje3,
  #personaje4,
  #personaje5,
  #personaje6,
  #personaje7 {
    position: relative !important;
    height: auto !important;
    min-height: auto !important;
    padding: 3rem 0 !important;
  }

  /* Contenedor principal - distribución simple lado a lado */
  #personaje1 > div,
  #personaje3 > div,
  #personaje4 > div,
  #personaje5 > div,
  #personaje6 > div,
  #personaje7 > div {
    padding: 0 2rem !important;
    gap: 2rem !important;
    max-width: 1600px !important;
    margin: 0 auto !important;
    align-items: center !important;
  }

  /* Columnas 50/50 sin overlaps */
  #personaje1 > div > div,
  #personaje3 > div > div,
  #personaje4 > div > div,
  #personaje5 > div > div,
  #personaje6 > div > div,
  #personaje7 > div > div {
    flex: 1 !important;
    min-width: 0 !important;
    margin: 0 !important;
  }

  /* OCULTAR descripciones y mostrar solo títulos grandes */
  #personaje1 p,
  #personaje3 p,
  #personaje4 p,
  #personaje5 p,
  #personaje6 p,
  #personaje7 p {
    display: none !important;
  }

  /* ELIMINAR cajas oscuras - textos flotantes limpios */
  #personaje1 .backdrop-blur-md,
  #personaje3 .backdrop-blur-md,
  #personaje4 .backdrop-blur-md,
  #personaje5 .backdrop-blur-md,
  #personaje6 .backdrop-blur-md,
  #personaje7 .backdrop-blur-md {
    background: transparent !important;
    backdrop-filter: none !important;
    border: none !important;
    box-shadow: none !important;
    padding: 2rem !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 2rem !important;
  }

  /* Animación de pulso sutil */
  @keyframes pulse-glow {
    0%,
    100% {
      filter: drop-shadow(0 0 30px rgba(130, 226, 86, 0.6))
        drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5));
    }
    50% {
      filter: drop-shadow(0 0 50px rgba(130, 226, 86, 0.8))
        drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5));
    }
  }

  /* Wrapper de imagen centrado */
  #personaje1 > div > div:has(.carousel-container),
  #personaje3 > div > div:has(.carousel-container),
  #personaje4 > div > div:has(.carousel-container),
  #personaje5 > div > div:has(.carousel-container),
  #personaje6 > div > div:has(.carousel-container),
  #personaje7 > div > div:has(.carousel-container) {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* ===== EXCEPCIONES PARA TOOLTIPS - TODOS LOS SERVICIOS ===== */

  /* Mostrar el contenido del tooltip en todos los servicios */
  #personaje1 .tooltip-content p,
  #personaje3 .tooltip-content p,
  #personaje4 .tooltip-content p,
  #personaje5 .tooltip-content p,
  #personaje6 .tooltip-content p,
  #personaje7 .tooltip-content p {
    display: block !important;
  }

  /* Mantener estilos del tooltip visible en todos los servicios */
  #personaje1 .tooltip-content .backdrop-blur-xl,
  #personaje3 .tooltip-content .backdrop-blur-xl,
  #personaje4 .tooltip-content .backdrop-blur-xl,
  #personaje5 .tooltip-content .backdrop-blur-xl,
  #personaje6 .tooltip-content .backdrop-blur-xl,
  #personaje7 .tooltip-content .backdrop-blur-xl {
    background: rgba(0, 0, 0, 0.9) !important;
    backdrop-filter: blur(24px) !important;
    border: 2px solid rgba(130, 226, 86, 0.5) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8) !important;
    padding: 1.25rem !important;
  }

  /* Asegurar que el h3 wrapper sea visible en todos los servicios */
  #personaje1 .tooltip-wrapper,
  #personaje3 .tooltip-wrapper,
  #personaje4 .tooltip-wrapper,
  #personaje5 .tooltip-wrapper,
  #personaje6 .tooltip-wrapper,
  #personaje7 .tooltip-wrapper {
    display: flex !important;
  }
</style>
